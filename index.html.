<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>真龍中学校 進路ダッシュボード2026</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Noto+Sans+JP:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <!-- Phosphor Icons (より洗練されたアイコンセット) -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background-color: #f1f5f9;
            color: #1e293b;
        }
        /* カスタムスクロールバー */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }
        
        .sidebar-item.active {
            background-color: #e0f2fe;
            color: #0284c7;
            border-right: 3px solid #0284c7;
        }

        .category-badge-public { background-color: #e0f2fe; color: #0369a1; }
        .category-badge-private { background-color: #ffedd5; color: #c2410c; }
        .category-badge-kosen { background-color: #f3e8ff; color: #7e22ce; }
        .category-badge-school { background-color: #dcfce7; color: #15803d; }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- Data Definitions ---

        const SECTIONS = [
            { id: 'dashboard', label: 'ダッシュボード', icon: 'SquaresFour' },
            { id: 'public', label: '公立高校（道立）', icon: 'Buildings' },
            { id: 'private', label: '私立高校', icon: 'GraduationCap' },
            { id: 'kosen', label: '高等専門学校（高専）', icon: 'Cpu' },
            { id: 'school', label: '真龍中学校内 手続き', icon: 'School' },
        ];

        const EVENTS = [
            // 真龍中・校内
            { date: '2025-11-07', displayDate: '11月7日', title: '進路説明会', category: 'school', desc: '全体説明会の実施（本日）' },
            { date: '2025-11-15', displayDate: '11月中旬', title: '三者面談（進路決定）', category: 'school', desc: '志望校を最終決定するための重要な面談です。', important: true },
            { date: '2025-12-01', displayDate: '12月上旬', title: '願書下書き等の作成', category: 'school', desc: '各高校へ提出する書類の準備が始まります。' },
            
            // 高専 (from PDF snippet)
            { date: '2025-11-27', displayDate: '11/27〜1/5', title: '高専：自己推薦 WEB事前登録', category: 'kosen', desc: '自己推薦選抜のWEB登録期間。\n締切：1月5日 16時まで', important: true },
            { date: '2025-11-27', displayDate: '11/27〜1/23', title: '高専：学力選抜 WEB事前登録', category: 'kosen', desc: '学力選抜のWEB登録期間。\n締切：1月23日 16時まで', important: true },
            
            // 道立 (from PDF)
            { date: '2025-12-05', displayDate: '12/5〜1/22', title: '道立：出願者情報オンライン入力', category: 'public', desc: '公立高校入試のWeb入力期間です。先生の指示に従って入力してください。', important: true },
            { date: '2026-01-19', displayDate: '1/19〜1/22', title: '道立：出願受付（本出願）', category: 'public', desc: '正式な願書受付期間。' },
            { date: '2026-01-26', displayDate: '1/26 10:00', title: '道立：出願状況発表（当初倍率）', category: 'public', desc: '最初の倍率が発表されます。' },
            { date: '2026-01-27', displayDate: '1/27〜2/2', title: '道立：出願変更受付', category: 'public', desc: '倍率を見て志望校を変更できる期間（1回のみ）。' },
            { date: '2026-02-12', displayDate: '2/12 10:00', title: '道立：出願変更後状況発表', category: 'public', desc: '最終的な倍率が確定します。' },
            { date: '2026-03-04', displayDate: '3/4', title: '道立：学力検査（入試当日）', category: 'public', desc: '全力を出し切る日。', type: 'exam' },
            { date: '2026-03-17', displayDate: '3/17 10:00', title: '道立：合格発表', category: 'public', desc: '合格者の発表。', type: 'success' },

            // 私立 (General Hokkaido Schedule assumption based on context)
            { date: '2026-02-15', displayDate: '2月中旬', title: '私立高校入試（A日程）', category: 'private', desc: '北海道の私立高校入試の前半日程エリア。', type: 'exam' },
            { date: '2026-02-18', displayDate: '2月中旬', title: '私立高校入試（B日程）', category: 'private', desc: '北海道の私立高校入試の後半日程エリア。', type: 'exam' },
        ];

        // --- Icons Component ---
        const Icon = ({ name, size = 24, className = "", weight = "regular" }) => {
            return <i className={`ph ph-${name.toLowerCase().replace(/([A-Z])/g, "-$1").substring(1)} ${className}`} style={{ fontSize: size, fontWeight: weight === 'bold' ? 700 : 400 }} data-weight={weight}></i>;
        };

        // --- Sub Components ---

        const StatCard = ({ label, value, sub, color }) => (
            <div className="glass-card p-5 rounded-2xl relative overflow-hidden group">
                <div className={`absolute top-0 right-0 w-24 h-24 -mr-6 -mt-6 rounded-full opacity-10 transition-transform group-hover:scale-110 ${color}`}></div>
                <p className="text-slate-500 text-xs font-semibold uppercase tracking-wider mb-1">{label}</p>
                <p className="text-2xl font-bold text-slate-800 mb-1">{value}</p>
                <p className="text-xs text-slate-400">{sub}</p>
            </div>
        );

        const CategoryBadge = ({ category }) => {
            const styles = {
                public: 'category-badge-public',
                private: 'category-badge-private',
                kosen: 'category-badge-kosen',
                school: 'category-badge-school'
            };
            const labels = {
                public: '道立高校',
                private: '私立高校',
                kosen: '高専',
                school: '真龍中'
            };
            return (
                <span className={`px-2.5 py-0.5 rounded-full text-[10px] font-bold tracking-wide ${styles[category]}`}>
                    {labels[category]}
                </span>
            );
        };

        const TimelineItem = ({ event }) => (
            <div className="flex gap-4 mb-6 animate-fade-in group">
                <div className="flex flex-col items-center">
                    <div className={`w-3 h-3 rounded-full mt-2 ring-4 ring-white ${event.important ? 'bg-red-500' : 'bg-slate-300'}`}></div>
                    <div className="w-0.5 flex-1 bg-slate-100 mt-2 group-last:hidden"></div>
                </div>
                <div className="flex-1 glass-card p-4 rounded-xl hover:shadow-md transition-shadow border-l-4 border-l-transparent hover:border-l-blue-500">
                    <div className="flex justify-between items-start mb-2">
                        <span className={`font-mono font-bold text-lg ${event.important ? 'text-red-600' : 'text-slate-700'}`}>
                            {event.displayDate}
                        </span>
                        <CategoryBadge category={event.category} />
                    </div>
                    <h4 className="font-bold text-slate-800 mb-1 flex items-center">
                        {event.important && <Icon name="Warning" className="text-red-500 mr-1" size={16} weight="fill" />}
                        {event.title}
                    </h4>
                    <p className="text-sm text-slate-500 whitespace-pre-line leading-relaxed">{event.desc}</p>
                </div>
            </div>
        );

        const InfoSection = ({ title, children }) => (
            <div className="mb-8">
                <h3 className="text-lg font-bold text-slate-800 mb-4 flex items-center">
                    <div className="w-1 h-6 bg-blue-600 rounded-full mr-3"></div>
                    {title}
                </h3>
                {children}
            </div>
        );

        // --- Main App Component ---

        const App = () => {
            const [activeSection, setActiveSection] = useState('dashboard');
            const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);

            // Filter events based on active section
            const filteredEvents = useMemo(() => {
                if (activeSection === 'dashboard') {
                    // Show upcoming important events or next 5 events
                    return EVENTS.sort((a, b) => a.date.localeCompare(b.date));
                }
                return EVENTS.filter(e => e.category === activeSection).sort((a, b) => a.date.localeCompare(b.date));
            }, [activeSection]);

            const renderContent = () => {
                switch (activeSection) {
                    case 'dashboard':
                        return (
                            <div className="animate-fade-in">
                                {/* Welcome Banner */}
                                <div className="bg-gradient-to-r from-slate-800 to-slate-900 rounded-3xl p-8 text-white mb-8 shadow-xl relative overflow-hidden">
                                    <div className="relative z-10">
                                        <h2 className="text-2xl md:text-3xl font-bold mb-2">進路活動ダッシュボード</h2>
                                        <p className="text-slate-300 mb-6">真龍中学校 令和7年度〜8年度版</p>
                                        <div className="flex gap-3 flex-wrap">
                                            <div className="bg-white/10 backdrop-blur rounded-lg px-4 py-2 flex items-center">
                                                <Icon name="CalendarCheck" className="mr-2 text-emerald-400" />
                                                <span className="text-sm font-medium">現在：進路決定・面談期間</span>
                                            </div>
                                            <div className="bg-white/10 backdrop-blur rounded-lg px-4 py-2 flex items-center">
                                                <Icon name="Warning" className="mr-2 text-amber-400" />
                                                <span className="text-sm font-medium">高専WEB登録 開始間近</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div className="absolute right-0 bottom-0 opacity-10 transform translate-x-10 translate-y-10">
                                        <Icon name="RocketLaunch" size={200} weight="duotone" />
                                    </div>
                                </div>

                                {/* Stats/Quick Links */}
                                <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                                    <StatCard label="公立入試まで" value="残り 約100日" sub="3月4日 学力検査" color="bg-blue-500" />
                                    <StatCard label="高専推薦登録" value="11/27 開始" sub="WEB登録期間" color="bg-purple-500" />
                                    <StatCard label="私立入試" value="2月中旬" sub="A日程/B日程" color="bg-orange-500" />
                                    <StatCard label="校内締切" value="要確認" sub="願書下書き等" color="bg-emerald-500" />
                                </div>

                                {/* Upcoming Timeline */}
                                <InfoSection title="今後の予定（時系列）">
                                    <div className="bg-white rounded-3xl p-6 md:p-8 shadow-sm border border-slate-200">
                                        {filteredEvents.map((event, idx) => (
                                            <TimelineItem key={idx} event={event} />
                                        ))}
                                    </div>
                                </InfoSection>
                            </div>
                        );

                    case 'kosen':
                        return (
                            <div className="animate-fade-in">
                                <div className="bg-purple-50 border border-purple-100 rounded-2xl p-6 mb-6">
                                    <h2 className="text-xl font-bold text-purple-900 mb-2 flex items-center">
                                        <Icon name="Cpu" className="mr-2" />
                                        高等専門学校（高専）について
                                    </h2>
                                    <p className="text-purple-800 text-sm mb-4">
                                        道内4高専（函館・苫小牧・釧路・旭川）の受験情報です。
                                        特に「釧路高専」の選抜では学力点や学習点の扱いが公立高校と大きく異なるため、
                                        必ず高専のホームページで最新の詳細を確認してください。
                                    </p>
                                    <div className="bg-white rounded-xl p-4 text-sm text-purple-900 shadow-sm">
                                        <strong className="block mb-1">道内4高専複数校志望受験制度</strong>
                                        道内4つの高専の最大10学科に同時に出願可能です。
                                        合格した学科のうち、志望順位が最も上位の高専に進学できます。
                                    </div>
                                </div>

                                <div className="grid md:grid-cols-2 gap-6 mb-6">
                                    <div className="glass-card p-6 rounded-xl border-t-4 border-purple-500">
                                        <h3 className="font-bold text-lg mb-3">自己推薦選抜</h3>
                                        <ul className="space-y-3 text-sm">
                                            <li className="flex justify-between border-b border-dashed border-slate-200 pb-2">
                                                <span className="text-slate-500">WEB事前登録</span>
                                                <span className="font-bold">11/27(木) 〜 1/5(月) 16時</span>
                                            </li>
                                            <li className="text-xs text-slate-400 mt-2">
                                                ※入学願書・写真票・受検票・自己推薦書が必要です。
                                            </li>
                                        </ul>
                                    </div>
                                    <div className="glass-card p-6 rounded-xl border-t-4 border-purple-500">
                                        <h3 className="font-bold text-lg mb-3">学力選抜</h3>
                                        <ul className="space-y-3 text-sm">
                                            <li className="flex justify-between border-b border-dashed border-slate-200 pb-2">
                                                <span className="text-slate-500">WEB事前登録</span>
                                                <span className="font-bold">11/27(木) 〜 1/23(金) 16時</span>
                                            </li>
                                            <li className="text-xs text-slate-400 mt-2">
                                                ※釧路高専など、各校で日程が設定されています。
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        );

                    case 'school':
                        return (
                            <div className="animate-fade-in">
                                <div className="bg-emerald-50 border border-emerald-100 rounded-2xl p-6 mb-6">
                                    <h2 className="text-xl font-bold text-emerald-900 mb-2 flex items-center">
                                        <Icon name="School" className="mr-2" />
                                        真龍中学校 校内手続き
                                    </h2>
                                    <p className="text-emerald-800 text-sm">
                                        中学校を通じて行う手続きのスケジュールです。
                                        これらの締切は、高校への提出期限より早く設定されています。遅れないように注意しましょう。
                                    </p>
                                </div>

                                <InfoSection title="To-Do リスト">
                                    <div className="space-y-3">
                                        {[
                                            "三者面談日程の調整（担任へ連絡）",
                                            "進路希望調査票の提出",
                                            "入学検定料の準備（納付書の確認）",
                                            "願書下書きの清書（誤字脱字チェック）",
                                            "（推薦希望者）推薦書の作文作成"
                                        ].map((todo, i) => (
                                            <label key={i} className="flex items-center p-4 bg-white rounded-xl border border-slate-200 shadow-sm cursor-pointer hover:bg-slate-50 transition-colors">
                                                <input type="checkbox" className="w-5 h-5 text-emerald-500 rounded focus:ring-emerald-500 border-gray-300 mr-3" />
                                                <span className="text-slate-700 text-sm font-medium">{todo}</span>
                                            </label>
                                        ))}
                                    </div>
                                </InfoSection>
                            </div>
                        );

                    default:
                        return (
                            <div className="animate-fade-in">
                                <InfoSection title={`${SECTIONS.find(s => s.id === activeSection)?.label} タイムライン`}>
                                    <div className="bg-white rounded-3xl p-6 md:p-8 shadow-sm border border-slate-200">
                                        {filteredEvents.length > 0 ? filteredEvents.map((event, idx) => (
                                            <TimelineItem key={idx} event={event} />
                                        )) : (
                                            <p className="text-center text-slate-400 py-8">表示するイベントがありません</p>
                                        )}
                                    </div>
                                </InfoSection>
                            </div>
                        );
                }
            };

            return (
                <div className="flex min-h-screen bg-[#f8fafc]">
                    {/* Sidebar (Desktop) */}
                    <aside className="hidden md:flex flex-col w-64 bg-white border-r border-slate-200 fixed h-full z-20">
                        <div className="p-6 border-b border-slate-100">
                            <h1 className="text-xl font-black text-slate-800 flex items-center tracking-tighter">
                                <Icon name="GraduationCap" className="mr-2 text-blue-600" weight="fill" />
                                Shinryu<span className="text-blue-600">Navi</span>
                            </h1>
                            <p className="text-xs text-slate-400 mt-1 ml-8">真龍中 進路サポートシステム</p>
                        </div>
                        <nav className="flex-1 p-4 space-y-1 overflow-y-auto">
                            {SECTIONS.map(section => (
                                <button
                                    key={section.id}
                                    onClick={() => setActiveSection(section.id)}
                                    className={`w-full flex items-center p-3 rounded-xl text-sm font-semibold transition-all duration-200 ${
                                        activeSection === section.id 
                                        ? 'bg-slate-100 text-blue-700 shadow-sm' 
                                        : 'text-slate-500 hover:bg-slate-50 hover:text-slate-700'
                                    }`}
                                >
                                    <Icon name={section.icon} className={`mr-3 ${activeSection === section.id ? 'text-blue-600' : 'text-slate-400'}`} weight={activeSection === section.id ? "fill" : "regular"} size={20} />
                                    {section.label}
                                </button>
                            ))}
                        </nav>
                        <div className="p-4 border-t border-slate-100">
                            <div className="bg-blue-50 rounded-xl p-4">
                                <p className="text-xs font-bold text-blue-800 mb-1">困ったときは</p>
                                <p className="text-xs text-blue-600 leading-relaxed">
                                    不明な点は必ず担任の先生に進路だより等で確認してください。
                                </p>
                            </div>
                        </div>
                    </aside>

                    {/* Mobile Header & Nav (修正箇所) */}
                    <div className="md:hidden fixed top-0 left-0 w-full bg-white/95 backdrop-blur z-50 border-b border-slate-200 px-4 py-3 flex justify-between items-center shadow-sm">
                         <h1 className="text-lg font-black text-slate-800 flex items-center">
                            <Icon name="GraduationCap" className="mr-2 text-blue-600" weight="fill" />
                            ShinryuNavi
                        </h1>
                        <button 
                            onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)} 
                            className={`flex items-center gap-2 px-4 py-2 rounded-full font-bold shadow-md transition-all active:scale-95 ${
                                isMobileMenuOpen 
                                ? 'bg-slate-800 text-white' 
                                : 'bg-blue-600 text-white hover:bg-blue-700'
                            }`}
                        >
                            <Icon name={isMobileMenuOpen ? "X" : "List"} size={20} weight="bold" />
                            <span className="text-sm">{isMobileMenuOpen ? "閉じる" : "メニュー"}</span>
                        </button>
                    </div>

                    {/* Mobile Dropdown Menu */}
                    {isMobileMenuOpen && (
                        <div className="md:hidden fixed inset-0 z-40 bg-white pt-20 px-4 animate-fade-in">
                             <nav className="space-y-3 mt-4">
                                <p className="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-1">表示切替</p>
                                {SECTIONS.map(section => (
                                    <button
                                        key={section.id}
                                        onClick={() => {
                                            setActiveSection(section.id);
                                            setIsMobileMenuOpen(false);
                                        }}
                                        className={`w-full flex items-center p-4 rounded-xl text-base font-bold border transition-colors ${
                                            activeSection === section.id 
                                            ? 'bg-blue-50 border-blue-100 text-blue-700 shadow-sm' 
                                            : 'bg-white border-slate-100 text-slate-600 hover:bg-slate-50'
                                        }`}
                                    >
                                        <div className={`mr-4 p-2 rounded-lg ${activeSection === section.id ? 'bg-white' : 'bg-slate-100'}`}>
                                            <Icon name={section.icon} weight={activeSection === section.id ? "fill" : "regular"} size={24} />
                                        </div>
                                        {section.label}
                                        {activeSection === section.id && <Icon name="Check" className="ml-auto text-blue-600" weight="bold" />}
                                    </button>
                                ))}
                            </nav>
                        </div>
                    )}

                    {/* Main Content */}
                    <main className="flex-1 md:ml-64 p-4 md:p-8 pt-24 md:pt-8 max-w-5xl mx-auto">
                        {renderContent()}
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
