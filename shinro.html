<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>真龍中学校 進路ダッシュボード2026</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'Noto Sans JP', 'sans-serif'],
            },
            colors: {
              brand: {
                50: '#eff6ff',
                100: '#dbeafe',
                500: '#3b82f6',
                600: '#2563eb',
                700: '#1d4ed8',
                900: '#1e3a8a',
              }
            },
            boxShadow: {
              'float': '0 20px 40px -10px rgba(0, 0, 0, 0.1)',
            },
            animation: {
              'fade-in': 'fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards',
              'slide-in-right': 'slideInRight 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards',
            },
            keyframes: {
              fadeIn: {
                'from': { opacity: '0', transform: 'translateY(20px)' },
                'to': { opacity: '1', transform: 'translateY(0)' },
              },
              slideInRight: {
                'from': { transform: 'translateX(100%)', opacity: '0' },
                'to': { transform: 'translateX(0)', opacity: '1' },
              }
            }
          }
        }
      }
    </script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+JP:wght@400;500;700;900&display=swap" rel="stylesheet">

    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <style>
        body {
            background-color: #f8fafc;
            color: #334155;
            -webkit-font-smoothing: antialiased;
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
        
        /* Glassmorphism Utilities */
        .glass-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.02);
        }

        .glass-nav {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(16px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }

        /* Prevent body scroll when menu is open */
        body.menu-open { overflow: hidden; }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.554.0"
  }
}
</script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- 1. Data Definitions ---

        // メニューの定義
        const SECTIONS = [
            { id: 'dashboard', label: 'HOME', icon: 'House' },
            { id: 'school', label: 'To Do List', icon: 'ClipboardText' }, 
            { id: 'public', label: '道立高校', icon: 'Buildings' },
            { id: 'private', label: '私立高校', icon: 'GraduationCap' },
            { id: 'kosen', label: '高等専門学校（高専）', icon: 'Cpu' },
        ];

        // イベントデータ
        const EVENTS = [
            // School
            { date: '2025-11-07', displayDate: '11月7日', title: '進路説明会', category: 'school', desc: '全体説明会の実施（本日）' },
            { date: '2025-11-15', displayDate: '11月中旬', title: '三者面談（進路決定）', category: 'school', desc: '志望校を最終決定するための重要な面談です。', important: true },
            { date: '2025-12-01', displayDate: '12月上旬', title: '願書下書き等の作成', category: 'school', desc: '各高校へ提出する書類の準備が始まります。' },
            
            // Kosen
            { date: '2025-11-27', displayDate: '11/27〜1/5', title: '高専：自己推薦 WEB事前登録', category: 'kosen', desc: '自己推薦選抜のWEB登録期間。\n締切：1月5日 16時まで', important: true },
            { date: '2025-11-27', displayDate: '11/27〜1/23', title: '高専：学力選抜 WEB事前登録', category: 'kosen', desc: '学力選抜のWEB登録期間。\n締切：1月23日 16時まで', important: true },
            { date: '2026-01-17', displayDate: '1/17(土)', title: '釧路高専：自己推薦選抜（面接）', category: 'kosen', desc: 'オンラインでの面接になります。\n通信環境や機器の準備を事前に行いましょう。', type: 'exam', important: true },
            { date: '2026-02-08', displayDate: '2/8(日)', title: '高専：学力検査日（全国一斉）', category: 'kosen', desc: '国立高専の学力選抜試験日です。', type: 'exam', important: true },

            // Public
            { date: '2025-12-05', displayDate: '12/5〜1/22', title: '道立：出願者情報オンライン入力', category: 'public', desc: '道立高校入試のWeb入力期間です。先生の指示に従って入力してください。', important: true },
            { date: '2026-01-19', displayDate: '1/19〜1/22', title: '道立：出願受付（本出願）', category: 'public', desc: '正式な願書受付期間。' },
            { date: '2026-01-26', displayDate: '1/26 10:00', title: '道立：出願状況発表（当初倍率）', category: 'public', desc: '最初の倍率が発表されます。' },
            { date: '2026-01-27', displayDate: '1/27〜2/2', title: '道立：出願変更受付', category: 'public', desc: '倍率を見て志望校を変更できる期間（1回のみ）。' },
            { date: '2026-02-10', displayDate: '2/10', title: '道立：推薦入学面接日', category: 'public', desc: '推薦入学者選抜の面接等が行われます。', type: 'exam', important: true },
            { date: '2026-02-12', displayDate: '2/12 10:00', title: '道立：出願変更後状況発表', category: 'public', desc: '最終的な倍率が確定します。' },
            { date: '2026-03-04', displayDate: '3/4', title: '道立：学力検査（一般入試）', category: 'public', desc: '全力を出し切る日。', type: 'exam', important: true },
            { date: '2026-03-17', displayDate: '3/17 10:00', title: '道立：合格発表', category: 'public', desc: '合格者の発表。', type: 'success' },

            // Private
            { date: '2026-02-15', displayDate: '2月中旬', title: '私立高校入試（A日程）', category: 'private', desc: '北海道の私立高校入試の前半日程エリア。', type: 'exam' },
            { date: '2026-02-18', displayDate: '2月中旬', title: '私立高校入試（B日程）', category: 'private', desc: '北海道の私立高校入試の後半日程エリア。', type: 'exam' },
        ];

        // ToDoグループ定義（新しい分類とカラーテーマ）
        const TODO_GROUPS = [
            { id: 'general', title: '【共通】学校提出・準備', description: '学校へ提出する書類や、面談など全員に関わる重要項目です。', theme: 'emerald' },
            { id: 'public', title: '【道立】出願・手続き', description: '道立高校を受験する人が行う手続きです。オンライン申請が含まれます。', theme: 'sky' },
            { id: 'private_kosen', title: '【私立・高専】出願・手続き', description: '私立高校や高専を受験する人が行うWeb登録などの手続きです。', theme: 'purple' },
            { id: 'money', title: '【費用】入学金・納付関係', description: '検定料の支払いや入学金の準備など、保護者の方と確認する項目です。', theme: 'orange' },
        ];

        // ToDoリストデータ（グループIDを追加）
        const TODOS = [
            { id: '1', text: "三者面談日程の調整（担任へ連絡）", subText: "進路最終決定のための面談です。", group: 'general' },
            { id: '2', text: "進路希望調査票の提出", subText: "期限を守って提出しましょう。", group: 'general' },
            { id: '6', text: "願書下書きの清書（誤字脱字チェック）", subText: "下書きをしっかり確認してから清書します。", group: 'general' },
            { id: '7', text: "推薦書の作文作成（推薦希望者）", subText: "先生の指導を受けて作成しましょう。", group: 'general' },
            
            { id: '3', text: "道立：願書情報のオンライン入力", subText: "12/5〜1/22 Web入力期間内に行います。", group: 'public' },
            { id: '4', text: "オンライン出願のアカウント確認", subText: "メールアドレス等の登録が必要な場合があります。", group: 'public' },
            { id: '8', text: "受験票の確認・保管", subText: "受け取ったらすぐに記載内容を確認してください。", group: 'public' },

            { id: '5', text: "私立・高専：Web出願登録", subText: "それぞれの学校のHPから登録が必要です。", group: 'private_kosen' },

            { id: '9', text: "入学検定料の納付", subText: "道立は「収入証紙」を購入。私立・高専は各校の指示に従ってください。", group: 'money', label: '保護者' },
            { id: '10', text: "私立高校の「延納手続き」確認", subText: "道立併願の場合、入学金納入期限の延長手続きが必要か確認してください。", group: 'money', label: '保護者' },
            { id: '11', text: "合格発表後の入学金準備", subText: "合格後、速やかに納入が必要になります。", group: 'money', label: '保護者' },
        ];

        // --- 2. Components ---

        const Icon = ({ name, size = 24, className = "", weight = "regular" }) => {
            return <i className={`ph ph-${name.toLowerCase().replace(/([A-Z])/g, "-$1").substring(1)} ${className}`} style={{ fontSize: size, fontWeight: weight === 'bold' ? 700 : 400 }} data-weight={weight}></i>;
        };

        const CategoryBadge = ({ category }) => {
            const styles = {
                public: 'bg-sky-50 text-sky-600 border-sky-200',
                private: 'bg-orange-50 text-orange-600 border-orange-200',
                kosen: 'bg-purple-50 text-purple-600 border-purple-200',
                school: 'bg-emerald-50 text-emerald-600 border-emerald-200'
            };
            const labels = {
                public: '道立高校',
                private: '私立高校',
                kosen: '高専',
                school: '真龍中'
            };
            return (
                <span className={`px-2.5 py-1 rounded-md text-[10px] md:text-xs font-bold tracking-wide border ${styles[category]}`}>
                    {labels[category]}
                </span>
            );
        };

        const StatCard = ({ label, value, sub, colorClass, textClass, bgGradient, onClick }) => (
            <div 
                onClick={onClick}
                className="glass-panel p-5 rounded-2xl relative overflow-hidden group cursor-pointer transition-all duration-300 hover:shadow-lg hover:-translate-y-1"
            >
                <div className={`absolute -right-4 -top-4 w-24 h-24 rounded-full opacity-5 blur-xl group-hover:opacity-10 transition-opacity ${colorClass}`}></div>
                <div className={`absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r ${bgGradient} opacity-50 group-hover:opacity-100 transition-opacity`}></div>
                
                <div className="flex items-center justify-between mb-3 relative z-10">
                    <p className="text-slate-500 text-[10px] font-bold uppercase tracking-wider">{label}</p>
                    <div className="w-6 h-6 rounded-full bg-white/50 flex items-center justify-center group-hover:bg-white transition-colors shadow-sm">
                        <Icon name="CaretRight" size={12} className="text-slate-400 group-hover:text-slate-600" weight="bold" />
                    </div>
                </div>
                
                <p className={`text-xl md:text-2xl font-black mb-1 tracking-tight relative z-10 ${textClass}`}>{value}</p>
                <p className="text-xs text-slate-400 relative z-10 font-medium">{sub}</p>
            </div>
        );

        const TimelineItem = ({ event }) => (
            <div className="flex gap-4 mb-8 last:mb-0 group animate-fade-in">
                <div className="flex flex-col items-center">
                    <div className={`w-3 h-3 rounded-full mt-2 ring-4 ring-white shadow-sm z-10 transition-transform group-hover:scale-110
                        ${event.important ? 'bg-rose-500' : 
                        event.type === 'success' ? 'bg-emerald-500' : 'bg-slate-300'}`}></div>
                    <div className="w-0.5 flex-1 bg-slate-100 mt-2 group-last:hidden"></div>
                </div>

                <div className="flex-1 bg-white/60 backdrop-blur-sm p-5 rounded-2xl border border-slate-100 hover:bg-white hover:shadow-md hover:border-brand-100 transition-all duration-300">
                    <div className="flex flex-col sm:flex-row sm:justify-between sm:items-start mb-3 gap-2">
                        <span className={`font-mono font-bold text-lg tracking-tight ${event.important ? 'text-rose-600' : 'text-slate-700'}`}>
                            {event.displayDate}
                        </span>
                        <div className="self-start">
                            <CategoryBadge category={event.category} />
                        </div>
                    </div>
                    
                    <h4 className="font-bold text-slate-800 mb-2 flex items-start gap-2 text-base">
                        {event.important && <Icon name="Warning" className="text-rose-500 shrink-0 mt-0.5" size={18} weight="fill" />}
                        {event.type === 'success' && <Icon name="CheckCircle" className="text-emerald-500 shrink-0 mt-0.5" size={18} weight="fill" />}
                        <span className="leading-snug">{event.title}</span>
                    </h4>
                    
                    <p className="text-sm text-slate-500 whitespace-pre-line leading-relaxed">
                        {event.desc}
                    </p>
                </div>
            </div>
        );

        // カラーテーマのスタイル定義
        const themeStyles = {
            emerald: {
                accent: 'bg-emerald-500',
                text: 'text-emerald-800',
                subText: 'text-emerald-600',
                bg: 'bg-emerald-50/50',
                border: 'border-emerald-100',
                progress: 'bg-emerald-500',
                checkbox: 'bg-emerald-500 border-emerald-500',
                badge: 'bg-emerald-50 text-emerald-600 border-emerald-200',
                hoverBorder: 'group-hover:border-emerald-300',
                checkedBg: 'bg-emerald-50/40',
                checkedBorder: 'border-emerald-100',
            },
            sky: {
                accent: 'bg-sky-500',
                text: 'text-sky-800',
                subText: 'text-sky-600',
                bg: 'bg-sky-50/50',
                border: 'border-sky-100',
                progress: 'bg-sky-500',
                checkbox: 'bg-sky-500 border-sky-500',
                badge: 'bg-sky-50 text-sky-600 border-sky-200',
                hoverBorder: 'group-hover:border-sky-300',
                checkedBg: 'bg-sky-50/40',
                checkedBorder: 'border-sky-100',
            },
            purple: {
                accent: 'bg-purple-500',
                text: 'text-purple-800',
                subText: 'text-purple-600',
                bg: 'bg-purple-50/50',
                border: 'border-purple-100',
                progress: 'bg-purple-500',
                checkbox: 'bg-purple-500 border-purple-500',
                badge: 'bg-purple-50 text-purple-600 border-purple-200',
                hoverBorder: 'group-hover:border-purple-300',
                checkedBg: 'bg-purple-50/40',
                checkedBorder: 'border-purple-100',
            },
            orange: {
                accent: 'bg-orange-500',
                text: 'text-orange-800',
                subText: 'text-orange-600',
                bg: 'bg-orange-50/50',
                border: 'border-orange-100',
                progress: 'bg-orange-500',
                checkbox: 'bg-orange-500 border-orange-500',
                badge: 'bg-orange-50 text-orange-600 border-orange-200',
                hoverBorder: 'group-hover:border-orange-300',
                checkedBg: 'bg-orange-50/40',
                checkedBorder: 'border-orange-100',
            },
        };

        const TodoList = ({ todos, title, description, storageKey, theme = 'emerald' }) => {
            const [checkedIds, setCheckedIds] = useState(() => {
                try {
                    const saved = localStorage.getItem(storageKey);
                    return saved ? new Set(JSON.parse(saved)) : new Set();
                } catch (e) {
                    return new Set();
                }
            });

            useEffect(() => {
                try {
                    localStorage.setItem(storageKey, JSON.stringify([...checkedIds]));
                } catch (e) {}
            }, [checkedIds, storageKey]);

            const toggleCheck = (id) => {
                const newChecked = new Set(checkedIds);
                if (newChecked.has(id)) newChecked.delete(id);
                else newChecked.add(id);
                setCheckedIds(newChecked);
            };

            const progress = Math.round((checkedIds.size / todos.length) * 100);
            
            // 選択されたテーマのスタイルを取得
            const styles = themeStyles[theme];

            return (
                <div className="mb-10 last:mb-0">
                    <div className="flex items-center justify-between mb-4">
                        <h3 className={`text-lg font-bold ${styles.text} flex items-center`}>
                            <span className={`w-1.5 h-6 ${styles.accent} rounded-full mr-3`}></span>
                            {title}
                        </h3>
                        <span className={`text-xs font-bold ${styles.badge} px-3 py-1 rounded-full border`}>
                            {checkedIds.size} / {todos.length} 完了
                        </span>
                    </div>
                    
                    {description && (
                        <p className={`${styles.subText} text-sm mb-5 ${styles.bg} p-4 rounded-xl border ${styles.border}`}>
                            {description}
                        </p>
                    )}

                    <div className="w-full bg-slate-100 rounded-full h-1.5 mb-6 overflow-hidden">
                        <div 
                            className={`${styles.progress} h-1.5 rounded-full transition-all duration-700 ease-out`}
                            style={{ width: `${progress}%` }}
                        ></div>
                    </div>

                    <div className="grid gap-3">
                        {todos.map((todo) => {
                            const isChecked = checkedIds.has(todo.id);
                            return (
                                <label 
                                    key={todo.id}
                                    className={`flex items-start p-4 bg-white rounded-xl border cursor-pointer transition-all duration-300 group
                                        ${isChecked ? `${styles.checkedBorder} ${styles.checkedBg}` : `border-slate-100 ${styles.hoverBorder} hover:shadow-sm`}
                                    `}
                                >
                                    <div className={`relative flex items-center justify-center h-6 w-6 mt-0.5 shrink-0 rounded-lg border-2 transition-all duration-300
                                        ${isChecked ? styles.checkbox : `border-slate-300 ${styles.hoverBorder} bg-white`}`}>
                                        <input 
                                            type="checkbox" 
                                            checked={isChecked}
                                            onChange={() => toggleCheck(todo.id)}
                                            className="hidden" 
                                        />
                                        <Icon name="Check" size={14} className={`text-white transition-all duration-300 ${isChecked ? 'scale-100 opacity-100' : 'scale-50 opacity-0'}`} weight="bold" />
                                    </div>
                                    
                                    <div className="ml-3 select-none flex-1">
                                        <div className="flex flex-wrap items-center gap-2 mb-1">
                                            <span className={`text-sm font-bold transition-colors ${isChecked ? 'text-slate-400 line-through decoration-slate-300' : 'text-slate-700'}`}>
                                            {todo.text}
                                            </span>
                                            {todo.label && (
                                                <span className="px-2 py-0.5 bg-slate-100 text-slate-600 border border-slate-200 text-[10px] rounded-md font-bold whitespace-nowrap">
                                                    {todo.label}
                                                </span>
                                            )}
                                        </div>
                                        {todo.subText && (
                                            <span className={`block text-xs transition-colors ${isChecked ? 'text-slate-300' : 'text-slate-500'}`}>
                                                {todo.subText}
                                            </span>
                                        )}
                                    </div>
                                </label>
                            );
                        })}
                    </div>
                </div>
            );
        };

        // --- 3. Main App ---

        const App = () => {
            const [activeSection, setActiveSection] = useState('dashboard');
            const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
            const [scrolled, setScrolled] = useState(false);

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 20);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            useEffect(() => {
                if (isMobileMenuOpen) document.body.classList.add('menu-open');
                else document.body.classList.remove('menu-open');
            }, [isMobileMenuOpen]);

            const filteredEvents = useMemo(() => {
                if (activeSection === 'dashboard') {
                    return EVENTS.sort((a, b) => a.date.localeCompare(b.date));
                }
                return EVENTS.filter(e => e.category === activeSection).sort((a, b) => a.date.localeCompare(b.date));
            }, [activeSection]);

            const navigate = (id) => {
                setActiveSection(id);
                setIsMobileMenuOpen(false);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const renderContent = () => {
                switch (activeSection) {
                    case 'dashboard':
                        return (
                            <>
                                <div className="mb-10 animate-fade-in pt-4">
                                    <h2 className="text-3xl md:text-4xl font-black mb-2 tracking-tighter text-slate-800">
                                        <span className="bg-clip-text text-transparent bg-gradient-to-r from-blue-700 to-indigo-600">真中進路ダッシュボード</span>
                                    </h2>
                                    <p className="text-slate-500 font-medium">令和7年度 厚岸町立真龍中学校</p>
                                </div>

                                <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                                    <StatCard 
                                        label="道立入試 一般" 
                                        value="3/4(水)" 
                                        sub="あと少し！" 
                                        colorClass="bg-sky-500"
                                        textClass="text-sky-700"
                                        bgGradient="from-sky-400 to-blue-500"
                                        onClick={() => navigate('public')}
                                    />
                                    <StatCard 
                                        label="道立入試 推薦" 
                                        value="2/10(火)" 
                                        sub="面接選抜" 
                                        colorClass="bg-indigo-500"
                                        textClass="text-indigo-700"
                                        bgGradient="from-indigo-400 to-violet-500"
                                        onClick={() => navigate('public')}
                                    />
                                    <StatCard 
                                        label="高専 学力" 
                                        value="2/8(日)" 
                                        sub="全国一斉" 
                                        colorClass="bg-purple-500"
                                        textClass="text-purple-700"
                                        bgGradient="from-purple-400 to-fuchsia-500"
                                        onClick={() => navigate('kosen')}
                                    />
                                    <StatCard 
                                        label="私立入試" 
                                        value="2月中旬" 
                                        sub="A・B日程" 
                                        colorClass="bg-orange-500"
                                        textClass="text-orange-700"
                                        bgGradient="from-orange-400 to-amber-500"
                                        onClick={() => navigate('private')}
                                    />
                                </div>

                                {/* To Do Link Card (Blue) */}
                                <div 
                                    onClick={() => navigate('school')}
                                    className="group relative overflow-hidden rounded-3xl p-8 text-white shadow-xl shadow-blue-500/20 mb-12 cursor-pointer transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/30 hover:scale-[1.01]"
                                >
                                    <div className="absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600"></div>
                                    <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"></div>
                                    <div className="absolute right-0 bottom-0 opacity-10 transform translate-x-12 translate-y-12 group-hover:scale-110 transition-transform duration-700">
                                        <Icon name="ClipboardText" size={240} weight="duotone" />
                                    </div>
                                    
                                    <div className="relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-6">
                                        <div>
                                            <div className="flex items-center gap-3 mb-4">
                                                <span className="bg-white/20 backdrop-blur-md px-3 py-1 rounded-full text-xs font-bold border border-white/30 tracking-wider">CHECK</span>
                                                <h3 className="text-2xl md:text-3xl font-black tracking-tight">To Do Listを確認</h3>
                                            </div>
                                            <p className="text-blue-50 text-sm md:text-base max-w-lg leading-relaxed font-medium">
                                                願書の準備や校内提出期限など、<br className="hidden md:inline"/>
                                                あなた自身が進めるべきタスクはこちらでチェック！
                                            </p>
                                        </div>
                                        <div className="w-14 h-14 rounded-full bg-white/20 flex items-center justify-center backdrop-blur-sm border border-white/20 group-hover:bg-white group-hover:text-blue-600 transition-all duration-300 shrink-0 shadow-lg">
                                            <Icon name="ArrowRight" size={28} weight="bold" />
                                        </div>
                                    </div>
                                </div>

                                <div className="animate-fade-in">
                                    <h3 className="text-lg font-bold text-slate-800 mb-6 flex items-center tracking-tight">
                                        <span className="w-1 h-6 bg-blue-600 rounded-full mr-3"></span>
                                        今後の予定（時系列）
                                    </h3>
                                    <div className="glass-panel rounded-3xl p-6 md:p-10 shadow-sm">
                                        {filteredEvents.map((event, idx) => (
                                            <TimelineItem key={idx} event={event} />
                                        ))}
                                    </div>
                                </div>
                            </>
                        );
                    case 'kosen':
                        return (
                             <div className="animate-fade-in">
                                <div className="bg-gradient-to-br from-purple-50 to-white border border-purple-100 rounded-3xl p-8 mb-10 shadow-sm">
                                    <h2 className="text-2xl font-black text-purple-900 mb-4 flex items-center gap-3 tracking-tight">
                                        <div className="p-2 bg-purple-100 rounded-xl">
                                            <Icon name="Cpu" className="text-purple-600" size={32} />
                                        </div>
                                        高等専門学校（高専）について
                                    </h2>
                                    <p className="text-purple-800/80 text-sm leading-relaxed mb-6 font-medium">
                                        道内4高専（函館・苫小牧・釧路・旭川）の受験情報です。
                                        特に「釧路高専」の選抜では学力点や学習点の扱いが道立高校と大きく異なるため、
                                        必ず高専のホームページで最新の詳細を確認してください。
                                    </p>
                                    <div className="bg-white/60 backdrop-blur-md rounded-2xl p-5 text-sm text-purple-900 border border-purple-100 shadow-sm">
                                        <strong className="block mb-2 text-purple-700 flex items-center gap-2">
                                            <Icon name="Info" weight="fill" />
                                            道内4高専複数校志望受験制度
                                        </strong>
                                        道内4つの高専の最大10学科に同時に出願可能です。
                                        合格した学科のうち、志望順位が最も上位の高専に進学できます。
                                    </div>
                                </div>

                                <div className="grid md:grid-cols-2 gap-6 mb-10">
                                    <div className="glass-panel p-6 rounded-2xl border-t-4 border-purple-500 shadow-sm hover:shadow-md transition-shadow">
                                        <h3 className="font-bold text-lg mb-5 text-slate-800 flex items-center gap-2">
                                            <span className="w-2 h-2 rounded-full bg-purple-500"></span>
                                            自己推薦選抜
                                        </h3>
                                        <ul className="space-y-4 text-sm">
                                            <li className="flex justify-between items-center border-b border-dashed border-slate-200/60 pb-3">
                                                <span className="text-slate-500 font-medium">WEB事前登録</span>
                                                <span className="font-bold font-mono text-slate-700">11/27 〜 1/5</span>
                                            </li>
                                             <li className="flex justify-between items-center border-b border-dashed border-slate-200/60 pb-3">
                                                <span className="text-slate-500 font-medium">入試（面接）</span>
                                                <span className="font-bold text-purple-600 bg-purple-50 px-2 py-1 rounded">1月17日(土)</span>
                                            </li>
                                            <li className="text-xs text-slate-400 bg-slate-50 p-3 rounded-lg leading-relaxed">
                                                ※オンラインでの面接になります。通信環境の確認を！
                                            </li>
                                        </ul>
                                    </div>
                                    <div className="glass-panel p-6 rounded-2xl border-t-4 border-purple-500 shadow-sm hover:shadow-md transition-shadow">
                                        <h3 className="font-bold text-lg mb-5 text-slate-800 flex items-center gap-2">
                                            <span className="w-2 h-2 rounded-full bg-purple-500"></span>
                                            学力選抜
                                        </h3>
                                        <ul className="space-y-4 text-sm">
                                            <li className="flex justify-between items-center border-b border-dashed border-slate-200/60 pb-3">
                                                <span className="text-slate-500 font-medium">WEB事前登録</span>
                                                <span className="font-bold font-mono text-slate-700">11/27 〜 1/23</span>
                                            </li>
                                            <li className="flex justify-between items-center border-b border-dashed border-slate-200/60 pb-3">
                                                <span className="text-slate-500 font-medium">学力検査日</span>
                                                <span className="font-bold text-rose-500 bg-rose-50 px-2 py-1 rounded">2月8日(日)</span>
                                            </li>
                                            <li className="text-xs text-slate-400 bg-slate-50 p-3 rounded-lg leading-relaxed">
                                                ※マークシート方式です。過去問対策を重点的に。
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div className="glass-panel rounded-3xl p-6 md:p-8 shadow-sm">
                                    <h3 className="text-lg font-bold text-slate-800 mb-6 ml-2">スケジュール詳細</h3>
                                    {filteredEvents.map((event, idx) => (
                                        <TimelineItem key={idx} event={event} />
                                    ))}
                                </div>
                            </div>
                        );
                    case 'school':
                        return (
                            <div className="animate-fade-in">
                                {/* Blue Gradient Header */}
                                <div className="bg-gradient-to-r from-blue-600 to-indigo-600 rounded-3xl p-8 mb-10 text-white shadow-lg shadow-blue-500/20 relative overflow-hidden">
                                    <div className="relative z-10">
                                        <h2 className="text-3xl font-black mb-3 flex items-center gap-3 tracking-tight">
                                            <Icon name="ClipboardText" size={36} weight="fill" className="text-blue-200" />
                                            To Do List
                                        </h2>
                                        <p className="text-blue-50 font-medium max-w-xl leading-relaxed">
                                            手続きの遅れは進路に大きく影響します。<br className="hidden md:inline"/>
                                            完了した項目にはチェックを入れて、確実に進めていきましょう。
                                        </p>
                                    </div>
                                    <div className="absolute right-0 top-1/2 -translate-y-1/2 opacity-10">
                                        <Icon name="CheckCircle" size={300} weight="fill" />
                                    </div>
                                </div>

                                <div className="glass-panel rounded-3xl p-6 md:p-10 shadow-sm">
                                    {/* Render by Category Group */}
                                    {TODO_GROUPS.map((group, idx) => (
                                        <React.Fragment key={group.id}>
                                            <TodoList 
                                                todos={TODOS.filter(t => t.group === group.id)} 
                                                title={group.title} 
                                                description={group.description}
                                                storageKey={`shinryu_todos_${group.id}`}
                                                theme={group.theme}
                                            />
                                            {idx < TODO_GROUPS.length - 1 && <div className="h-px bg-slate-200 my-10"></div>}
                                        </React.Fragment>
                                    ))}
                                </div>
                            </div>
                        );
                    default:
                         return (
                            <div className="animate-fade-in">
                                <div className="mb-8 pl-2">
                                    <h2 className="text-3xl font-black text-slate-800 mb-2 flex items-center gap-3 tracking-tight">
                                        <Icon name={SECTIONS.find(s => s.id === activeSection)?.icon || 'Circle'} className="text-brand-600" weight="duotone" size={36} />
                                        {SECTIONS.find(s => s.id === activeSection)?.label}
                                    </h2>
                                    <p className="text-slate-500 font-medium">関連スケジュール一覧</p>
                                </div>
                                <div className="glass-panel rounded-3xl p-6 md:p-10 shadow-sm">
                                    {filteredEvents.length > 0 ? filteredEvents.map((event, idx) => (
                                        <TimelineItem key={idx} event={event} />
                                    )) : (
                                        <div className="text-center py-20">
                                            <Icon name="CalendarX" size={48} className="text-slate-300 mx-auto mb-4" />
                                            <p className="text-slate-400 font-medium">表示するイベントがありません</p>
                                        </div>
                                    )}
                                </div>
                            </div>
                        );
                }
            };

            return (
                <div className="flex min-h-screen">
                    {/* Sidebar (Desktop) */}
                    <aside className="hidden md:flex flex-col w-80 bg-white/80 backdrop-blur-xl border-r border-slate-200/60 fixed h-full z-20">
                        <div className="p-8 pb-6">
                            <h1 className="text-2xl font-black text-slate-800 flex items-center tracking-tighter">
                                <Icon name="GraduationCap" className="mr-2 text-brand-600" size={32} weight="fill" />
                                Shinryu<span className="text-brand-600">Navi</span>
                            </h1>
                            <p className="text-[10px] text-slate-400 mt-2 font-bold tracking-widest uppercase ml-1">真龍中 進路サポートシステム</p>
                        </div>
                        <nav className="flex-1 px-4 py-2 space-y-2 overflow-y-auto">
                            {SECTIONS.map(section => {
                                const isActive = activeSection === section.id;
                                return (
                                    <button
                                        key={section.id}
                                        onClick={() => navigate(section.id)}
                                        className={`w-full flex items-center p-4 rounded-xl text-sm font-bold transition-all duration-300 group relative
                                        ${isActive 
                                            ? 'bg-brand-50 text-brand-700 shadow-sm ring-1 ring-brand-100' 
                                            : 'text-slate-500 hover:bg-white hover:text-slate-700 hover:shadow-sm'
                                        }`}
                                    >
                                        <Icon 
                                            name={section.icon} 
                                            className={`mr-4 transition-colors ${isActive ? 'text-brand-600' : 'text-slate-400 group-hover:text-slate-500'}`} 
                                            size={22}
                                            weight={isActive ? 'duotone' : 'regular'}
                                        />
                                        {section.label}
                                        {isActive && <Icon name="CaretRight" className="ml-auto text-brand-400" size={16} weight="bold" />}
                                    </button>
                                );
                            })}
                        </nav>
                        <div className="p-6">
                            <div className="bg-gradient-to-br from-slate-100 to-slate-50 rounded-2xl p-5 border border-slate-200/60">
                                <p className="text-xs font-black text-slate-700 mb-2 flex items-center gap-1">
                                    <Icon name="Info" weight="bold" className="text-brand-500" />
                                    困ったときは
                                </p>
                                <p className="text-xs text-slate-500 leading-relaxed font-medium">
                                    不明な点は必ず担任の先生に進路だより等で確認してください。
                                </p>
                            </div>
                        </div>
                    </aside>

                    {/* Mobile Header */}
                    <div className={`md:hidden fixed top-0 left-0 w-full z-40 px-5 py-4 transition-all duration-300 ${scrolled ? 'glass-nav' : 'bg-transparent'}`}>
                        <div className="flex justify-between items-center">
                            <h1 className="text-xl font-black text-slate-800 flex items-center tracking-tighter cursor-pointer" onClick={() => navigate('dashboard')}>
                                <Icon name="GraduationCap" className="mr-2 text-brand-600" size={26} weight="fill" />
                                Shinryu<span className="text-brand-600">Navi</span>
                            </h1>
                            <button 
                                onClick={() => setIsMobileMenuOpen(true)}
                                className="bg-white/80 backdrop-blur-sm pl-4 pr-5 py-2.5 rounded-full shadow-lg shadow-slate-200 border border-slate-100 text-slate-700 active:scale-95 transition-all flex items-center gap-2 font-bold text-sm hover:bg-white group"
                            >
                                <div className="bg-brand-100 text-brand-600 p-1 rounded-full group-hover:bg-brand-600 group-hover:text-white transition-colors">
                                    <Icon name="List" size={16} weight="bold" />
                                </div>
                                メニュー
                            </button>
                        </div>
                    </div>

                    {/* Mobile Menu Overlay (Right Side) */}
                    {isMobileMenuOpen && (
                        <div className="fixed inset-0 z-50 md:hidden flex justify-end">
                            <div className="absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity" onClick={() => setIsMobileMenuOpen(false)}></div>
                            <div className="relative bg-white/95 backdrop-blur-xl h-full w-[85%] max-w-xs shadow-2xl p-6 flex flex-col animate-slide-in-right border-l border-white/50">
                                <div className="flex justify-between items-center mb-10 pt-2">
                                    <h2 className="text-xl font-black text-slate-800 tracking-tight">表示内容を選択</h2>
                                    <button onClick={() => setIsMobileMenuOpen(false)} className="p-2 bg-slate-100 rounded-full text-slate-500 hover:bg-slate-200 transition-colors">
                                        <Icon name="X" size={20} weight="bold" />
                                    </button>
                                </div>
                                
                                <nav className="flex-1 space-y-3">
                                    {SECTIONS.map(section => {
                                        const isActive = activeSection === section.id;
                                        return (
                                            <button
                                                key={section.id}
                                                onClick={() => navigate(section.id)}
                                                className={`w-full flex items-center p-4 rounded-2xl text-left font-bold transition-all duration-300
                                                ${isActive 
                                                    ? 'bg-brand-500 text-white shadow-lg shadow-brand-500/30' 
                                                    : 'text-slate-600 hover:bg-slate-50'
                                                }`}
                                            >
                                                <Icon 
                                                    name={section.icon} 
                                                    className={`mr-4 ${isActive ? 'text-white' : 'text-slate-400'}`} 
                                                    size={24} 
                                                    weight={isActive ? 'duotone' : 'regular'} 
                                                />
                                                {section.label}
                                                {isActive && <Icon name="Check" className="ml-auto text-white" size={18} weight="bold" />}
                                            </button>
                                        );
                                    })}
                                </nav>

                                 <div className="mt-auto pt-6 border-t border-slate-100">
                                    <p className="text-[10px] text-center text-slate-400 font-bold tracking-widest uppercase">Shinryu JHS 2026</p>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Main Content Area */}
                    <main className="flex-1 md:ml-80 p-5 md:p-12 pt-28 md:pt-12 max-w-7xl mx-auto w-full transition-all">
                        {renderContent()}
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
